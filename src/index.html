<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="search6" />
    {% if user.id %}
    <meta property="og:url" content="{{ root_url | urlencode | safe }}/?id={{ user.id }}" />
    <meta property="og:description"
        content="User {{ user.username }}#{{ user.discriminator }} (id {{ user.id }}) is level {{ level }}">
    <meta name="description"
        content="User {{ user.username }}#{{ user.discriminator }} (id {{ user.id }}) is level {{ level }}">
    {% else %}
    <meta property="og:url" content="{{ root_url | urlencode | safe }}" />
    <meta property="og:description" content="A simple website which checks levels in the Minecraft discord">
    <meta name="description" content="A simple website which checks levels in the Minecraft discord">
    {% endif %}
    {% if avatar %}
    <meta property="og:image" content="{{ avatar | urlencode | safe }}" />
    {% else %}
    <meta property="og:image" content="{{ root_url | urlencode | safe }}/mee6_bad.png" />
    {% endif %}
    <link rel="icon" type="image/png" href="/mee6_bad.png">
    <link rel="stylesheet" href="/style.css">
    <title>search6</title>
</head>

<body>
    {% if user.id %}
    <img src="{{ avatar | urlencode | safe }}" alt="{{ user.username }}#{{ user.discriminator }}'s Discord profile photo"
        class="profile-picture">
    <div>
        User: {{ user.username }}#{{ user.discriminator }}
    </div>
    <div>
        Snowflake: <code>{{ user.id }}</code>
    </div>
    <div>
        Rank {{ user.rank }}
    </div>
    <div>
        Level {{ level }}
    </div>
    {% if user.message_count %}
    <div>
        {{ user.message_count }} Messages
    </div>
    {% endif %}
    <div>
        {{ user.xp }} XP
    </div>
    <a href="/" class="btn">
        Check Another
    </a>
    <button onclick="writeModStringToClipboard()" class="btn" id="copyreq">Copy Request</button>
    <script>
        const copyreqbtn = document.getElementById("copyreq");
        function writeModStringToClipboard() {
            let requestString = "{{ root_url | urlencode | safe }}/card?id={{ user.id }} <@{{ user.id }}>";
            navigator.clipboard.writeText(requestString);
            copyreqbtn.textContent = "Copy Request âœ…";
            setTimeout(() => {
                copyreqbtn.textContent = "Copy Request";
            },
            1200);
        }
    </script>
    {% else %}
    <img src="/mee6_bad.png" alt="the MEE6 logo with a red stroke through it." class="profile-picture">
    <form action="/" class="request-form">
        <label for="identifier" class="request-label">
            Please enter a discord ID
            (<code>302094807046684672</code>)
            or friend code
            (<code>Nelly#0000</code>)
        </label>
        <input pattern="^[ ]*([0-9]+|.*#[0-9]{4})[ ]*" name="id" id="identifier" class="textinput"
            title="Make sure you have a valid discord ID or friend code" />
        <input type="submit" class="btn" />
    </form>
    <a href="/o" class="btn">
        View your own level
    </a>
    {% endif %}
</body>

</html>
